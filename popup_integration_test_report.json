{
  "timestamp": "2025-09-04T14:44:32.449195",
  "files_tested": [
    "C:\\Users\\sanggil\\flask-portal\\templates\\accident-detail.html",
    "C:\\Users\\sanggil\\flask-portal\\templates\\change-request-detail.html",
    "C:\\Users\\sanggil\\flask-portal\\templates\\follow-sop-detail.html",
    "C:\\Users\\sanggil\\flask-portal\\templates\\full-process-detail.html",
    "C:\\Users\\sanggil\\flask-portal\\templates\\partner-detail.html",
    "C:\\Users\\sanggil\\flask-portal\\templates\\safety-instruction-detail.html"
  ],
  "integration_status": {
    "accident-detail.html": {
      "file": "C:\\Users\\sanggil\\flask-portal\\templates\\accident-detail.html",
      "integrated": false,
      "component_usage": {
        "import_found": true,
        "render_popup_used": 1,
        "render_table_used": 0
      },
      "script_integration": {
        "universal_handler": false,
        "old_popup_handler": false
      },
      "cleanup_status": {
        "old_functions_removed": false,
        "old_callbacks_removed": false,
        "remaining_old_code": [
          "function\\s+openPersonSearch",
          "function\\s+openCompanySearch",
          "function\\s+openBuildingSearch",
          "function\\s+openDepartmentSearch",
          "function\\s+openContractorSearch",
          "window\\.receivePersonSelection\\s*=\\s*function",
          "window\\.receiveCompanySelection\\s*=\\s*function",
          "window\\.receiveDepartmentSelection\\s*=\\s*function",
          "window\\.receiveContractorSelection\\s*=\\s*function"
        ]
      },
      "issues": [
        "중복 팝업 함수 발견: function\\s+openPersonSearch",
        "중복 팝업 함수 발견: function\\s+openCompanySearch",
        "중복 팝업 함수 발견: function\\s+openBuildingSearch",
        "중복 팝업 함수 발견: function\\s+openDepartmentSearch",
        "중복 팝업 함수 발견: function\\s+openContractorSearch",
        "중복 콜백 함수 발견: window\\.receivePersonSelection\\s*=\\s*function",
        "중복 콜백 함수 발견: window\\.receiveCompanySelection\\s*=\\s*function",
        "중복 콜백 함수 발견: window\\.receiveDepartmentSelection\\s*=\\s*function",
        "중복 콜백 함수 발견: window\\.receiveContractorSelection\\s*=\\s*function"
      ],
      "score": 50
    },
    "change-request-detail.html": {
      "file": "C:\\Users\\sanggil\\flask-portal\\templates\\change-request-detail.html",
      "integrated": true,
      "component_usage": {
        "import_found": true,
        "render_popup_used": 1,
        "render_table_used": 0
      },
      "script_integration": {
        "universal_handler": true,
        "old_popup_handler": true
      },
      "cleanup_status": {
        "old_functions_removed": true,
        "old_callbacks_removed": true,
        "remaining_old_code": []
      },
      "issues": [
        "여전히 기존 popup-handler.js를 사용 중입니다"
      ],
      "score": 90
    },
    "follow-sop-detail.html": {
      "file": "C:\\Users\\sanggil\\flask-portal\\templates\\follow-sop-detail.html",
      "integrated": true,
      "component_usage": {
        "import_found": true,
        "render_popup_used": 1,
        "render_table_used": 1
      },
      "script_integration": {
        "universal_handler": true,
        "old_popup_handler": true
      },
      "cleanup_status": {
        "old_functions_removed": true,
        "old_callbacks_removed": true,
        "remaining_old_code": []
      },
      "issues": [
        "여전히 기존 popup-handler.js를 사용 중입니다"
      ],
      "score": 90
    },
    "full-process-detail.html": {
      "file": "C:\\Users\\sanggil\\flask-portal\\templates\\full-process-detail.html",
      "integrated": true,
      "component_usage": {
        "import_found": true,
        "render_popup_used": 1,
        "render_table_used": 1
      },
      "script_integration": {
        "universal_handler": true,
        "old_popup_handler": true
      },
      "cleanup_status": {
        "old_functions_removed": false,
        "old_callbacks_removed": true,
        "remaining_old_code": [
          "function\\s+openPersonSearch",
          "function\\s+openCompanySearch",
          "function\\s+openBuildingSearch",
          "function\\s+openDepartmentSearch",
          "function\\s+openContractorSearch"
        ]
      },
      "issues": [
        "여전히 기존 popup-handler.js를 사용 중입니다",
        "중복 팝업 함수 발견: function\\s+openPersonSearch",
        "중복 팝업 함수 발견: function\\s+openCompanySearch",
        "중복 팝업 함수 발견: function\\s+openBuildingSearch",
        "중복 팝업 함수 발견: function\\s+openDepartmentSearch",
        "중복 팝업 함수 발견: function\\s+openContractorSearch"
      ],
      "score": 75
    },
    "partner-detail.html": {
      "file": "C:\\Users\\sanggil\\flask-portal\\templates\\partner-detail.html",
      "integrated": false,
      "component_usage": {
        "import_found": false,
        "render_popup_used": 0,
        "render_table_used": 0
      },
      "script_integration": {
        "universal_handler": false,
        "old_popup_handler": false
      },
      "cleanup_status": {
        "old_functions_removed": true,
        "old_callbacks_removed": true,
        "remaining_old_code": []
      },
      "issues": [],
      "score": 40
    },
    "safety-instruction-detail.html": {
      "file": "C:\\Users\\sanggil\\flask-portal\\templates\\safety-instruction-detail.html",
      "integrated": false,
      "component_usage": {
        "import_found": false,
        "render_popup_used": 0,
        "render_table_used": 0
      },
      "script_integration": {
        "universal_handler": false,
        "old_popup_handler": false
      },
      "cleanup_status": {
        "old_functions_removed": true,
        "old_callbacks_removed": true,
        "remaining_old_code": []
      },
      "issues": [],
      "score": 40
    }
  },
  "issues_found": [
    "accident-detail.html: 중복 팝업 함수 발견: function\\s+openPersonSearch",
    "accident-detail.html: 중복 팝업 함수 발견: function\\s+openCompanySearch",
    "accident-detail.html: 중복 팝업 함수 발견: function\\s+openBuildingSearch",
    "accident-detail.html: 중복 팝업 함수 발견: function\\s+openDepartmentSearch",
    "accident-detail.html: 중복 팝업 함수 발견: function\\s+openContractorSearch",
    "accident-detail.html: 중복 콜백 함수 발견: window\\.receivePersonSelection\\s*=\\s*function",
    "accident-detail.html: 중복 콜백 함수 발견: window\\.receiveCompanySelection\\s*=\\s*function",
    "accident-detail.html: 중복 콜백 함수 발견: window\\.receiveDepartmentSelection\\s*=\\s*function",
    "accident-detail.html: 중복 콜백 함수 발견: window\\.receiveContractorSelection\\s*=\\s*function",
    "change-request-detail.html: 여전히 기존 popup-handler.js를 사용 중입니다",
    "follow-sop-detail.html: 여전히 기존 popup-handler.js를 사용 중입니다",
    "full-process-detail.html: 여전히 기존 popup-handler.js를 사용 중입니다",
    "full-process-detail.html: 중복 팝업 함수 발견: function\\s+openPersonSearch",
    "full-process-detail.html: 중복 팝업 함수 발견: function\\s+openCompanySearch",
    "full-process-detail.html: 중복 팝업 함수 발견: function\\s+openBuildingSearch",
    "full-process-detail.html: 중복 팝업 함수 발견: function\\s+openDepartmentSearch",
    "full-process-detail.html: 중복 팝업 함수 발견: function\\s+openContractorSearch"
  ],
  "recommendations": [
    "accident-detail.html: 통합 작업 필요 (현재 50/100점)",
    "  - 중복 팝업 함수 제거",
    "  - 중복 콜백 함수 제거",
    "partner-detail.html: 통합 작업 필요 (현재 40/100점)",
    "  - popup_field_component.html import 추가",
    "safety-instruction-detail.html: 통합 작업 필요 (현재 40/100점)",
    "  - popup_field_component.html import 추가"
  ],
  "overall_score": 64.16666666666667,
  "overall_grade": "D",
  "integration_rate": 50.0
}