[DEFAULT]
debug = False
secret_key = CHANGE-THIS-TO-RANDOM-SECRET-KEY
upload_folder = uploads
edit_password = admin123
admin_password = admin1233

[DATABASE]
local_db_path = portal.db
db_backend = postgres
postgres_dsn = postgresql://postgres:admin123@localhost:5432/portal_dev
iqadb_module_path = C:/Users/user/AppData/Local/aipforge/pkgs/dist/obf/PY310
default_module_path = C:/Users/user/AppData/Local/aipforge/pkgs/dist/obf/PY310
external_db_enabled = false
initial_sync_on_first_request = false
master_data_daily = false
content_data_once = false
contractor_db_path = contractors.db
master_data_sync_hour = 3

[SECURITY]
max_upload_size_mb = 10
allowed_extensions = pdf,doc,docx,xls,xlsx,xlsm,xlsb,ppt,pptx,csv,txt,png,jpg,jpeg,gif,bmp,tiff,zip,html,htm

[LOGGING]
log_level = INFO
log_file = app.log
log_db_backend = true

[NOTIFICATION]
chatbot_webhook_url = http://127.0.0.1:8000/webhook/portal-notification
chatbot_auth_token = 
chatbot_timeout = 5

[DASHBOARD]
dashboard_url = https://your-dashboard.com
dashboard_enabled = True
primary_comp_id = 
primary_dept_ids = 
secondary_dashboard_url = https://your-alternate-dashboard.com
fallback_dashboard_image = 

[USAGE_DASHBOARD]
portal_trend_query = SELECT CURRENT_DATE::date AS date, 0::int AS count
chatbot_trend_query = SELECT CURRENT_DATE::date AS date, 0::int AS count

[SQL_QUERIES]

[COLUMNS]
sync_on_startup = false

[PERMISSION]
enabled = false
cache_ttl = 300
log_access = true
default_role = user
super_admin_role = super_admin
super_admin_users = dev_user

[MASTER_DATA_QUERIES]
partners_query = SELECT
	business_number,
	company_name,
	partner_class,
	business_type_major,
	business_type_minor,
	hazard_work_flag,
	representative,
	address,
	average_age,
	annual_revenue,
	transaction_count,
	permanent_workers
	FROM partners
	ORDER BY company_name
accidents_query = SELECT
	accident_number,
	accident_name,
	workplace,
	accident_grade,
	major_category,
	injury_form,
	injury_type,
	accident_date,
	day_of_week,
	created_at as created_at,
	building,
	floor,
	location_category,
	location_detail
	FROM accidents
	WHERE accident_number IS NOT NULL
building_query = SELECT building_code, building_name, SITE, SITE_TYPE FROM buildings WHERE 1=1
department_query = SELECT dept_code, dept_name, parent_dept_code FROM departments WHERE 1=1
contractor_query = SELECT worker_id, worker_name, company_name, business_number FROM contractors WHERE 1=1
employee_query = SELECT employee_id, employee_name, department_name FROM employees WHERE 1=1
division_query = SELECT division_code, division_name, parent_division_code, division_level, division_manager, division_location FROM divisions WHERE 1=1 ORDER BY division_name
safety_instructions_query = SELECT * FROM safety_instructions WHERE issue_number IS NOT NULL
followsop_query = SELECT * FROM 외부_followsop_테이블 WHERE 1=1
fullprocess_query = SELECT * FROM 외부_fullprocess_테이블 WHERE 1=1
partner_change_requests_query = SELECT * FROM 외부_partner_change_requests_테이블 WHERE 1=1
subcontract_approval_query = SELECT
	approval_number,
	site,
	division,
	area,
	dept,
	dept_group,
	process_type,
	company,
	company_bizno,
	work_type,
	permission_type,
	ehs_evaluation_date,
	application_date,
	receipt_no,
	supervisor,
	approval_start_date,
	approval_end_date,
	approval_issue_date,
	progress_status,
	approval_result,
	post_inspection,
	note
	FROM subcontract_approval
	WHERE approval_number IS NOT NULL
subcontract_report_query = SELECT
	report_number,
	site,
	type,
	company_1cha,
	company_1cha_bizno,
	company_2cha,
	company_2cha_bizno,
	company_3cha,
	company_3cha_bizno,
	company_4cha,
	company_4cha_bizno,
	subcontract_work_content,
	submission_date,
	subcontract_start_date,
	subcontract_end_date,
	chemical_name,
	cas_no,
	subcontract_area,
	chemical_headcount,
	accept_date,
	accept_certificate,
	note
	FROM subcontract_report
	WHERE report_number IS NOT NULL

[CONTENT_DATA_QUERIES]
safety_instructions_query = SELECT * FROM safety_instructions WHERE issue_number IS NOT NULL AND (is_deleted = 0 OR is_deleted IS NULL)
followsop_query = SELECT * FROM 외부_followsop_테이블 WHERE 1=1
fullprocess_query = SELECT * FROM 외부_fullprocess_테이블 WHERE 1=1
partner_change_requests_query = SELECT * FROM 외부_partner_change_requests_테이블 WHERE 1=1

[SCORING_MAPPING_SAFETY]
helmet_violation_count = item_1
procedure_violation_count = item_2
ppe_violation_count = item_3
training_violation_count = item_4
safety_rule_violation_count = item_5

[SCORING_MAPPING_FOLLOWSOP]

[SCORING_MAPPING_FULLPROCESS]

[tbm]
item_1 = tbm_helmet_check
item_2 = tbm_safety_brief
item_3 = tbm_ppe_status
item_4 = tbm_hazard_id

[safety_check]
item_1 = safety_procedure_follow
item_2 = safety_barrier_check
item_3 = safety_emergency_prep

[quality_audit]
item_1 = quality_standard_comply
item_2 = quality_doc_complete
item_3 = quality_test_result

[scre223]
item_1 = scre223_item_1
item_2 = scre223_item_2
item_3 = scre223_item_3

[test224]
item_1 = test224_item_1
item_2 = test224_item_2

[test225]
item_1 = test225_item_1
item_2 = test225_item_2
item_3 = test225_item_3
item_4 = test225_item_4

[SSO]
sso_enabled = False
idp_entity_id = example
idp_signout_url = http://127.0.0.1:5000/
idp_client_id = example
sp_redirect_url = https://example.com/acs
cert_file_path = Templates/Cert/
cert_file_name = Idp.cer
ssl_cert_file = Templates/Cert/cert.pem
ssl_key_file = Templates/Cert/key.pem
ssl_port = 44369
http_port = 5000
dev_mode = False
dev_user_id = dev_user
dev_user_name = 개발자
dev_department = 개발팀
dev_grade = 과장
dev_simulate_flow = False
enabled = true
ldap_server = ldap://localhost:389
ldap_base_dn = dc=company,dc=com
api_url = http://localhost:8080/api/users

[APPLICATION]
host = 0.0.0.0
port = 5000

[REDIS]
host = localhost
port = 6379
db = 0
enabled = false
