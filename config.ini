# ======================================================================
# Flask Portal ì„¤ì • íŒŒì¼ í…œí”Œë¦¿
# ì´ íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ config.inië¡œ ì €ì¥í•˜ê³  ì„¤ì •í•˜ì„¸ìš”
# ======================================================================

[DEFAULT]
# ê¸°ë³¸ ì„¤ì •
DEBUG = False
SECRET_KEY = CHANGE-THIS-TO-RANDOM-SECRET-KEY
UPLOAD_FOLDER = uploads
EDIT_PASSWORD = admin123
ADMIN_PASSWORD = admin1233

[DATABASE]
# ë¡œì»¬ SQLite (ì—…ë¬´ ë°ì´í„°)
LOCAL_DB_PATH = portal.db

# IQADB ëª¨ë“ˆ ê²½ë¡œ ì„¤ì • (ë³¸ì¸ì˜ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •í•˜ì„¸ìš”)
IQADB_MODULE_PATH = C:/Users/user/AppData/Local/aipforge/pkgs/dist/obf/PY310
# ê¸°ë³¸ fallback ê²½ë¡œ
DEFAULT_MODULE_PATH = C:/Users/user/AppData/Local/aipforge/pkgs/dist/obf/PY310

# ì™¸ë¶€ DB ì—°ë™ í™œì„±í™” ì—¬ë¶€ (IQADB_CONNECT310 ì‚¬ìš©)
EXTERNAL_DB_ENABLED = True

[SECURITY]
# ë³´ì•ˆ ì„¤ì •
MAX_UPLOAD_SIZE_MB = 10
ALLOWED_EXTENSIONS = pdf,doc,docx,xls,xlsx,png,jpg,jpeg

[LOGGING]
LOG_LEVEL = INFO
LOG_FILE = app.log

[DASHBOARD]
# ëŒ€ì‹œë³´ë“œ ì„¤ì •
DASHBOARD_URL = https://your-dashboard.com
DASHBOARD_ENABLED = True

[SQL_QUERIES]
# ======================================================================
# ğŸ”§ ì‚¬ìš©ì ì •ì˜ SQL ì¿¼ë¦¬ ì„¤ì •
# ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ì— ë§ê²Œ ìˆ˜ì •í•˜ì„¸ìš”
# âš ï¸ ì¤‘ìš”: ì´ ì¿¼ë¦¬ë“¤ì€ GitHub ì—…ë°ì´íŠ¸ ì‹œì—ë„ ë³´ì¡´ë©ë‹ˆë‹¤!
# ======================================================================

# í˜‘ë ¥ì‚¬ ì •ë³´ ì¡°íšŒ ì¿¼ë¦¬ (ìºì‹œ í…Œì´ë¸” ì‚¬ìš©)
PARTNERS_QUERY = SELECT 
    business_number,
    company_name,
    partner_class,
    business_type_major,
    business_type_minor,
    hazard_work_flag,
    representative,
    address,
    average_age,
    annual_revenue,
    transaction_count,
    permanent_workers
    FROM partners_cache
    WHERE (is_deleted = 0 OR is_deleted IS NULL)
    ORDER BY company_name

# ì‚¬ê³  ì •ë³´ ì¡°íšŒ ì¿¼ë¦¬ - ì‹¤ì œ DBì— ë§ê²Œ ìˆ˜ì •í•˜ì„¸ìš” (14ê°œ í•„ë“œ)
ACCIDENTS_QUERY = SELECT 
    accident_number,
    accident_name,
    workplace,
    accident_grade,
    major_category,
    injury_form,
    injury_type,
    accident_date,
    day_of_week,
    report_date,
    building,
    floor,
    location_category,
    location_detail
    FROM accidents_cache
    WHERE accident_number IS NOT NULL

# í™˜ê²½ì•ˆì „ ì§€ì‹œì„œ ì¡°íšŒ ì¿¼ë¦¬ (ìºì‹œ í…Œì´ë¸” ì‚¬ìš©)
SAFETY_INSTRUCTIONS_QUERY = SELECT 
    issue_number,
    issuer,
    issuer_department,
    classification,
    employment_type,
    primary_company,
    primary_business_number,
    subcontractor,
    subcontractor_business_number,
    disciplined_person,
    disciplined_person_id,
    gbm,
    business_division,
    team,
    department,
    work_grade,
    violation_date,
    discipline_date,
    discipline_department,
    discipline_type,
    accident_type,
    accident_grade,
    safety_violation_grade,
    violation_type,
    access_ban_start_date,
    access_ban_end_date,
    period,
    penalty_points,
    violation_content,
    detailed_content
    FROM safety_instructions_cache
    WHERE issue_number IS NOT NULL

# ê±´ë¬¼ ì •ë³´ ì¡°íšŒ ì¿¼ë¦¬ (ìºì‹œ í…Œì´ë¸” ì‚¬ìš©)
BUILDING_QUERY = SELECT building_code, building_name, SITE, SITE_TYPE FROM buildings_cache WHERE 1=1

# ë¶€ì„œ ì •ë³´ ì¡°íšŒ ì¿¼ë¦¬ (ìºì‹œ í…Œì´ë¸” ì‚¬ìš©)
DEPARTMENT_QUERY = SELECT dept_code, dept_name, parent_dept_code, dept_level FROM departments_cache WHERE 1=1

# í˜‘ë ¥ì‚¬ ê·¼ë¡œì ì¡°íšŒ ì¿¼ë¦¬ (ìºì‹œ í…Œì´ë¸” ì‚¬ìš©)
CONTRACTOR_QUERY = SELECT worker_id, worker_name, company_name, business_number FROM contractors_cache WHERE 1=1

# ì„ì§ì› ì •ë³´ ì¡°íšŒ ì¿¼ë¦¬ (ìºì‹œ í…Œì´ë¸” ì‚¬ìš©)
EMPLOYEE_QUERY = SELECT employee_id, employee_name, department_name FROM employees_cache WHERE 1=1

# ======================================================================
# ì„¤ì • ê°€ì´ë“œ:
# 
# 1. ì´ íŒŒì¼ì„ config.inië¡œ ë³µì‚¬í•˜ì„¸ìš”
# 2. DEFAULT ì„¹ì…˜ì˜ SECRET_KEYì™€ EDIT_PASSWORDë¥¼ ë³€ê²½í•˜ì„¸ìš”
# 3. PARTNERS_QUERYë¥¼ ì‹¤ì œ DB êµ¬ì¡°ì— ë§ê²Œ ìˆ˜ì •í•˜ì„¸ìš”
#    - your_schema.your_table â†’ ì‹¤ì œ ìŠ¤í‚¤ë§ˆ.í…Œì´ë¸”ëª…
#    - ì»¬ëŸ¼ëª…ë“¤ì„ ì‹¤ì œ DB ì»¬ëŸ¼ëª…ìœ¼ë¡œ ë³€ê²½
# 
# SQL ì¿¼ë¦¬ ìˆ˜ì • ë°©ë²•:
# - ì‹¤ì œ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ë³€ê²½ (ì˜ˆ: business_reg_no â†’ ì‹¤ì œ_ì‚¬ì—…ìë²ˆí˜¸_ì»¬ëŸ¼)
# - AS ë¬¸ìœ¼ë¡œ í¬í„¸ì—ì„œ ì‚¬ìš©í•  ì´ë¦„ ì§€ì • (as business_number ìœ ì§€)
# - 11ê°œ ì»¬ëŸ¼ ëª¨ë‘ ë§ì¶°ì£¼ì„¸ìš”
# 
# ì˜ˆì‹œ:
# real_column_name as portal_column_name
# ======================================================================

[COLUMNS]
# ======================================================================
# ì»¬ëŸ¼ ë™ê¸°í™” ì„¤ì •
# ======================================================================

# JSON íŒŒì¼ ìë™ ë™ê¸°í™” ì—¬ë¶€
# - true: ì„œë²„ ì‹œì‘í•  ë•Œë§ˆë‹¤ JSONì„ DBë¡œ ë®ì–´ì”€ (ê¸°ì¡´ ë™ì‘)
# - false: JSONì€ ìµœì´ˆ ì„¤ì¹˜ ë•Œë§Œ ì‚¬ìš©, ì´í›„ëŠ” DBê°€ ì§„ì‹¤ì˜ ì›ì²œ
SYNC_ON_STARTUP = false

[MASTER_DATA_QUERIES]
# ======================================================================
# ë§ˆìŠ¤í„° ë°ì´í„° ì¡°íšŒ ì¿¼ë¦¬ ì„¤ì •
# ======================================================================

# í˜‘ë ¥ì‚¬ ì™¸ë¶€ DB ì¡°íšŒ ì¿¼ë¦¬ (ì‹¤ì œ ì™¸ë¶€ DB í…Œì´ë¸”ê³¼ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ìˆ˜ì •í•˜ì„¸ìš”)
PARTNERS_EXTERNAL_QUERY = SELECT 
    business_reg_no as business_number,
    corp_name as company_name,
    partner_class as partner_class,
    industry_major as business_type_major,
    industry_minor as business_type_minor,
    hazard_work_yn as hazard_work_flag,
    ceo_name as representative,
    corp_address as address,
    avg_age as average_age,
    revenue as annual_revenue,
    transaction_cnt as transaction_count,
    permanent_workers as permanent_workers
    FROM your_schema.your_partners_table
    WHERE business_reg_no IS NOT NULL

# ì‚¬ê³  ì •ë³´ ì™¸ë¶€ DB ì¡°íšŒ ì¿¼ë¦¬ (ì‹¤ì œ ì™¸ë¶€ DB í…Œì´ë¸”ê³¼ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ìˆ˜ì •í•˜ì„¸ìš”)
ACCIDENTS_EXTERNAL_QUERY = SELECT 
    accident_no as accident_number,
    accident_nm as accident_name,
    accident_tm as accident_time,
    work_place as workplace,
    accident_grd as accident_grade,
    major_cat as major_category,
    injury_frm as injury_form,
    injury_typ as injury_type,
    accident_dt as accident_date,
    day_week as day_of_week,
    report_dt as report_date,
    bldg as building,
    flr as floor,
    location_cat as location_category,
    location_dtl as location_detail
    FROM your_schema.accident_master
    WHERE accident_no IS NOT NULL

# ê±´ë¬¼ ì •ë³´ ì™¸ë¶€ DB ì¡°íšŒ ì¿¼ë¦¬ (ì‹¤ì œ ì™¸ë¶€ DB í…Œì´ë¸”ê³¼ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ìˆ˜ì •í•˜ì„¸ìš”)
BUILDING_EXTERNAL_QUERY = SELECT 
    bldg_cd as building_code,
    bldg_nm as building_name,
    site_nm as SITE,
    site_type as SITE_TYPE
    FROM your_schema.building_master
    WHERE bldg_cd IS NOT NULL

# ë¶€ì„œ ì •ë³´ ì™¸ë¶€ DB ì¡°íšŒ ì¿¼ë¦¬ (ì‹¤ì œ ì™¸ë¶€ DB í…Œì´ë¸”ê³¼ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ìˆ˜ì •í•˜ì„¸ìš”)
DEPARTMENT_EXTERNAL_QUERY = SELECT 
    dept_cd as dept_code,
    dept_nm as dept_name,
    parent_dept_cd as parent_dept_code,
    dept_lvl as dept_level
    FROM your_schema.department_master
    WHERE dept_cd IS NOT NULL

# í˜‘ë ¥ì‚¬ ê·¼ë¡œì ì™¸ë¶€ DB ì¡°íšŒ ì¿¼ë¦¬ (ì‹¤ì œ ì™¸ë¶€ DB í…Œì´ë¸”ê³¼ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ìˆ˜ì •í•˜ì„¸ìš”)
CONTRACTOR_EXTERNAL_QUERY = SELECT 
    wkr_id as worker_id,
    wkr_nm as worker_name,
    comp_nm as company_name,
    biz_no as business_number
    FROM your_schema.contractor_workers
    WHERE wkr_id IS NOT NULL

# ì„ì§ì› ì •ë³´ ì™¸ë¶€ DB ì¡°íšŒ ì¿¼ë¦¬ (ì‹¤ì œ ì™¸ë¶€ DB í…Œì´ë¸”ê³¼ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ìˆ˜ì •í•˜ì„¸ìš”)
EMPLOYEE_EXTERNAL_QUERY = SELECT 
    emp_id as employee_id,
    emp_nm as employee_name,
    dept_nm as department_name
    FROM your_schema.employee_master
    WHERE emp_id IS NOT NULL

# í™˜ê²½ì•ˆì „ ì§€ì‹œì„œ ì™¸ë¶€ DB ì¡°íšŒ ì¿¼ë¦¬ (ì‹¤ì œ ì™¸ë¶€ DB í…Œì´ë¸”ê³¼ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ìˆ˜ì •í•˜ì„¸ìš”)
SAFETY_INSTRUCTIONS_EXTERNAL_QUERY = SELECT 
    instruction_no as issue_number,
    issuer_name as issuer,
    issuer_dept as issuer_department,
    classification,
    employment_type,
    primary_company_name as primary_company,
    primary_company_bizno as primary_business_number,
    subcontractor_name as subcontractor,
    subcontractor_bizno as subcontractor_business_number,
    violator_name as disciplined_person,
    violator_id as disciplined_person_id,
    gbm,
    business_division,
    team,
    department,
    work_grade,
    violation_date,
    discipline_date,
    discipline_department,
    discipline_type,
    accident_type,
    accident_grade,
    safety_violation_grade,
    violation_type,
    access_ban_start_date,
    access_ban_end_date,
    period,
    penalty_points,
    violation_content,
    detailed_content
    FROM your_schema.your_safety_instructions_table
    WHERE instruction_no IS NOT NULL
